---
description: è³‡æ–™ç§‘å­¸åŸºç¤æ‰“çš„å¥½ï¼Œè¬äº‹æ²’ç…©æƒ±...
---

# ã€è³‡æ–™è™•ç†ç¥å™¨å€ - NumPyç³»åˆ—ã€‘ åˆ†å‰²(Split)çš„è—è¡“



<figure><img src="../.gitbook/assets/numpyåˆ†å‰².drawio.png" alt=""><figcaption></figcaption></figure>

è³‡æ–™åˆ‡å‰²å°æ–¼æˆ‘å€‘é€²è¡Œå¹³è¡ŒåŒ–é‹ä½œæˆ–è€…æ˜¯è½‰æ›æ•¸æ“šçš„æ‡‰ç”¨ä¸Šéå¸¸é‡è¦ï¼Œ ä½†å¦‚ä½•åˆ‡å‘¢ï¼Ÿ è¦æ€éº¼åˆ‡æ‰åˆ‡çš„å¥½å‘¢ï¼Ÿ é€™äº›æ˜¯åˆ‡å‰²çš„éç¨‹å¸¸å¸¸æœƒé¢è‡¨çš„ä¸€äº›å•é¡Œï¼Œ é‚£å°±è®“æˆ‘å€‘ä¸€æ­¥æ­¥çš„ä¾†è§£å¯†å§ï¼

é—œæ–¼åˆ†å‰²çš„æ–¹å¼æœ‰ä¸‹åˆ—å¹¾ç¨®é¸æ“‡ï¼Œ å¤§è‡´äº†è§£ä¸€ä¸‹å³å¯ï¼Œ æ¥ä¸‹ä¾†æˆ‘å€‘æœƒåˆ†åˆ¥å°é€™å¹¾ç¨®åˆ†å‰²æ–¹å¼é€²è¡Œè©³ç´°èªªæ˜:

```python
# ç”¨æ–¼åœ¨æŒ‡å®šè»¸ä¸Šå°‡æ•¸çµ„åˆ†å‰²æˆå¤šå€‹å­æ•¸çµ„ã€‚
# axis, é€™åƒæ•¸æ‡‰è©²æ˜¯è¼ƒä¸å®¹æ˜“ç†è§£çš„ä¸€å€‹åƒæ•¸ï¼Œé è¨­ç‚ºã€Œ0ã€ï¼Œç›¸ç•¶æ–¼åº•ä¸‹çš„æ°´å¹³åˆ†å‰²ï¼Œ è€Œè¨­å®šç‚ºã€Œ1ã€å‰‡ç‚ºå‚ç›´åˆ†å‰²
# é€™é‚Šéœ€è¦æ³¨æ„çš„æ˜¯indices_or_sectionsèˆ‡aryçš„é•·åº¦å¿…é ˆæ˜¯èƒ½å¤ æ•´é™¤çš„é—œä¿‚ï¼Œ å¦å‰‡æœƒç™¼ç”ŸéŒ¯èª¤ï¼Œ ç°¡å–®ä¾†èªªaryæœ‰10å€‹å…ƒç´ ï¼Œ ä½†è¦åˆ‡æˆ3ä»½ï¼Œ ç”±æ–¼ç„¡æ³•å…¬å¹³åˆ†é…ï¼Œ å› æ­¤å°‡å°è‡´éŒ¯èª¤ç™¼ç”Ÿã€‚

numpy.split(ary, indices_or_sections, axis=0)

# åŸºæœ¬ä¸Šèˆ‡ä¸Šè¿°çš„ä½¿ç”¨æ–¹å¼ä¸€æ¨£...ï¼Œ å”¯ä¸€ä¸ä¸€æ¨£çš„æ˜¯é€™å€‹æ–¹å¼å…è¨±ã€Œä¸ç­‰é‡åˆ†å‰²ã€ï¼Œ ä¹Ÿå°±æ˜¯å‡è¨­aryæœ‰10å€‹å…ƒç´ ï¼Œ åˆ‡æˆ3ä»½æ˜¯è¢«å…è¨±çš„ã€‚
numpy.array_split(ary, indices_or_sections, axis=0)

# æ°´å¹³åˆ†å‰²(ä»¥æ¬„é€²è¡Œåˆ‡å‰²)
numpy.hsplit(ary, indices_or_sections)

# å‚ç›´åˆ†å‰²(ä»¥åˆ—é€²è¡Œåˆ‡å‰²)
numpy.vsplit(ary, indices_or_sections)

# ç”¨æ–¼æ·±åº¦ï¼ˆç¬¬ä¸‰ç¶­åº¦è»¸ï¼‰åˆ†å‰²æ•¸çµ„ã€‚
# P.S é€™å€‹APIç›¸å°è¼ƒæ–°ï¼Œ ä¹Ÿæ˜¯è¼ƒæŠ½è±¡çš„éƒ¨ä»½ï¼Œ è¦ç”¨å¿ƒçš„çœ‹ä¸‹å»æ‰èƒ½å¾—å¿ƒæ‡‰æ‰‹å”·ï¼
numpy.dsplit(ary, indices_or_sections)
```

### numpy.split(ary, indices\_or\_sections, axis=0)

å¿…é ˆç­‰é‡åˆ†å‰²...

âš ï¸ é€™é‚Šæœƒç‰¹æ„è£½é€ ä¸€å€‹æƒ…å¢ƒè®“ç›®æ¨™åŠæ¬²åˆ‡å‰²çš„ä»½æ•¸ç„¡æ³•å…¬å¹³åˆ†é…ï¼Œ é æœŸå°‡æœƒç™¼ç”Ÿã€Œarray split does not result in an equal divisionã€çš„éŒ¯èª¤ã€‚

```python
import numpy as np

# å‰µå»ºä¸€å€‹åŒ…å« 1 åˆ° 10 çš„ä¸€ç¶­æ•¸çµ„
arr = np.arange(1, 11)

# ä½¿ç”¨ split å‡½æ•¸å°‡æ•¸çµ„å¹³å‡åˆ†å‰²æˆ 3 æ®µ
splitted_arr = np.split(arr, 3)

# é€™é‚Šæœƒåˆ‡æˆ3ä»½ï¼Œ ä½†ç”±æ–¼10ç„¡æ³•æ•´é™¤ï¼Œ æ‰€ä»¥åˆ†å‰²çš„ç‹€æ³æœƒæ˜¯é€™æ¨£:
# ã€Œ3, 3, 4ã€
print(splitted_arr)
```



<figure><img src="../.gitbook/assets/ç™¼ç”ŸéŒ¯èª¤.png" alt=""><figcaption></figcaption></figure>



### numpy.array\_split(ary, indices\_or\_sections, axis=0)

å…è¨±ä¸ç­‰é‡åˆ†å‰²...

ä¸€æ¨£ä½¿ç”¨ä¸Šè¿°æ¡ˆä¾‹ä¾†åˆ†å‰²ï¼Œ ä½†é€™æ¬¡å°±æ²’æœ‰ç™¼ç”ŸéŒ¯èª¤å›‰ï¼ é›–ç„¶ä¸å…¬å¹³ï¼Œ ä½†ä»å°‡10ç­‰ä»½åˆ‡æˆã€Œ4, 3, 3ã€

```
[array([1, 2, 3, 4]), array([5, 6, 7]), array([ 8,  9, 10])]
```

### numpy.hsplit(ary, indices\_or\_sections)

æ°´å¹³åˆ†å‰²(ä»¥æ¬„é€²è¡Œåˆ‡å‰²)



<figure><img src="../.gitbook/assets/æ°´å¹³åˆ†å‰².drawio.png" alt=""><figcaption></figcaption></figure>

ä»¥æ•¸æ“šçµæ§‹ä¾†èªªæœƒè®Šæˆ:

```
[array(1, 2, 5, 6), array(3, 4, 7, 8)]
```

```python
import numpy as np

# å‰µå»ºä¸€å€‹ 2x4 çš„äºŒç¶­æ•¸çµ„
arr = np.array([[1, 2, 3, 4],
                [5, 6, 7, 8]])

# ä½¿ç”¨ hsplit å‡½æ•¸å°‡æ•¸çµ„æ°´å¹³åˆ†å‰²æˆ 2 æ¬„
splitted_arr = np.hsplit(arr, 2)

splitted_arr
```

### numpy.vsplit(ary, indices\_or\_sections)

å‚ç›´åˆ‡å‰²(ä»¥åˆ—é€²è¡Œåˆ‡å‰²)



<figure><img src="../.gitbook/assets/å‚ç›´åˆ†å‰².drawio.png" alt=""><figcaption></figcaption></figure>

æ•¸æ“šçµæ§‹:

```
[array(1, 2, 3, 4), array(5, 6, 7, 8)]
```

```python
import numpy as np

# å‰µå»ºä¸€å€‹ 2x4 çš„äºŒç¶­æ•¸çµ„
arr = np.array([[1, 2, 3, 4],
                [5, 6, 7, 8]])

# ä½¿ç”¨ vsplit å°‡æ•¸æ“šåˆ‡å‰²æˆ2åˆ—
splitted_arr = np.vsplit(arr, 2)

splitted_arr
```

### numpy.dsplit(ary, indices\_or\_sections)

```python
import numpy as np
import matplotlib.pyplot as plt

# å‰µå»ºä¸€å€‹ 2x2x4 çš„ä¸‰ç¶­æ•¸çµ„
arr = np.array([
    [
      [1, 2, 3, 4]
    ],
    [
      [5, 6, 7, 8]
    ]
])

# ä½¿ç”¨ dsplit å°‡æ•¸æ“šåˆ‡å‰²
splitted_arr = np.dsplit(arr, 2)

splitted_arr
```

ä»Šå¤©çš„ç¯„ä¾‹éƒ½åœ¨é€™è£¡ã€Œ[ğŸ“¦ numpy\_split.ipynb](https://github.com/weihanchen/google-colab-python-learn/blob/main/jupyter-examples/numpy/numpy\_split.ipynb)ã€æ­¡è¿è‡ªè¡Œå–ç”¨ã€‚

å¦‚ä½•ä½¿ç”¨è«‹åƒé–±ã€Œ[ã€Google Colab Pythonç³»åˆ—ã€‘Colabå¹³å°èˆ‡Pythonå¦‚ä½•æ“¦å‡ºç«èŠ±ï¼Ÿ](https://www.potatomedia.co/s/aNLHZe3S)ã€ã€‚

### çµèª

é€™æ¬¡ä¸»è¦ä»‹ç´¹åˆ‡å‰²çš„æŠ€å·§ï¼Œ ä½†éœ€è¦å…·æœ‰ç©ºé–“çš„æ¦‚å¿µæ‰æœƒæ¯”è¼ƒå®¹æ˜“ç†è§£ï¼Œ å› æ­¤å¯¦ä½œæ™‚æœƒæ¯”è¼ƒä¸ç›´è§€ä¸€äº›ï¼Œ ä¸éæ²’é—œä¿‚ï¼Œ å¤šTryå¹¾æ¬¡å°±èƒ½å¤ ç†Ÿæ‚‰é€™æ¨£çš„æ¦‚å¿µäº†ï¼Œ æœ‰äº†åˆ‡å‰²ä¹‹å¾Œï¼Œ æˆ‘å€‘å°±èƒ½å¤ åˆ†åˆ¥å°åˆ‡å‰²å¾Œä¸åŒæ‰¹æ¬¡çš„è³‡æ–™é€²è¡Œè™•ç†ï¼Œ ä¸‹ä¸€ç¯‡ç« æˆ‘å€‘æœƒèªªæ˜å¦‚ä½•å»åˆä½µé€™äº›åˆ‡å‰²éå¾Œçš„è³‡æ–™ã€‚





å–œæ­¡æ’°å¯«æ–‡ç« çš„ä½ ï¼Œä¸å¦¨ä¾†äº†è§£ä¸€ä¸‹ï¼š

[Web3.0æ™‚ä»£ä¸‹ç‚ºå‰µä½œè€…ã€é–±è®€è€…æ‰“é€ çš„å°ˆå±¬å…±è´å¹³å° â€” ç‚ºä»€éº¼è¦åŠ å…¥ï¼Ÿ](https://www.potatomedia.co/s/2PmFxsq)

æ­¡è¿åŠ å…¥ä¸€èµ·ç·´ç¿’å¯«ä½œï¼Œè³ºå–çŸ¥è­˜
